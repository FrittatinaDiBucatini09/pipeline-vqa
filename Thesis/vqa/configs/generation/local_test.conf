# ==============================================================================
# LOCAL INTEGRATION TEST CONFIGURATION - Generation
# ==============================================================================
# Purpose: Quick local testing with minimal resources
# Target: Single GPU (RTX 3090), 10 samples max
# Model: Lightweight multimodal VLM
# ==============================================================================

# ==============================================================================
# MODEL CONFIGURATION
# ==============================================================================
MODEL_NAME="Qwen/Qwen2-VL-2B-Instruct"  # Small but capable multimodal model (2B params)
# Alternative options:
#   - "microsoft/Phi-3.5-vision-instruct" (4.2B)
#   - "llava-hf/llava-1.5-7b-hf" (7B, heavier)

# ==============================================================================
# DATASET CONFIGURATION
# ==============================================================================
DATASET_NAME=""  # Empty = use local file instead of HuggingFace
DATA_FILE="gemex_VQA_mimic_mapped.csv"  # Your existing CSV file

# Column mapping (must match CSV headers)
IMAGE_COLUMN="original_hf_path"  # Path to images
QUESTION_COLUMN="question"       # VQA question
ANSWER_COLUMN="answer"           # Ground truth answer

# Dataset split (only used if DATASET_NAME is set)
DATASET_SPLIT="test"

# ==============================================================================
# INFERENCE CONFIGURATION
# ==============================================================================
BATCH_SIZE=1            # Minimal batch size for testing (safest for memory)
MAX_NEW_TOKENS=50       # Short answers to speed up inference
TEMPERATURE=0.0         # Greedy decoding (deterministic)
TOP_K=-1                # Disabled
TOP_P=1.0               # Disabled

# CRITICAL: Limit samples for quick testing
MAX_SAMPLES=10          # Only process 10 samples for integration test

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
USE_IMAGES=true         # Enable multimodal (image + text)
USE_FEW_SHOT=false      # Disable few-shot for speed
NUM_FEW_SHOT=0          # Not used when USE_FEW_SHOT=false
USE_COT=false           # Disable Chain-of-Thought for speed

# ==============================================================================
# OUTPUT CONFIGURATION
# ==============================================================================
OUTPUT_DIR="results/integration_test"  # Local test output directory

# ==============================================================================
# NOTES
# ==============================================================================
# This config is designed for RAPID LOCAL TESTING only.
# For production runs, use configs in configs/generation/gemex/ or create custom configs.
# Expected runtime: ~2-5 minutes for 10 samples with a 2B model
