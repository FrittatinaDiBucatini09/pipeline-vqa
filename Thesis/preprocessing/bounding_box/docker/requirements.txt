# ==============================================================================
# PROJECT DEPENDENCIES
# ==============================================================================
# This file defines the Python environment requirements for the GEMeX project.
# It is optimized for a headless Linux server environment (UniboNLP Cluster).
# ==============================================================================

# --- Core Data & System Utilities ---
numpy>=1.21.0
pandas>=1.3.0
tqdm>=4.62.0
# Note: Standard libraries like 'pathlib', 'argparse', and 'ast' are excluded.

# --- Computer Vision & Image Processing ---
# 'opencv-python-headless' is used instead of 'opencv-python' to avoid dependencies
# on X11 libraries (libGL) which are often missing or unstable in server/Docker environments.
opencv-python-headless>=4.5.0
Pillow>=9.0.0
scikit-image>=0.19.0

# --- Deep Learning Framework (PyTorch) ---
# Note: While PyTorch might be pre-loaded in some HPC modules, defining it here
# ensures version consistency inside the Docker container.
torch>=2.0.0
torchvision>=0.15.0

# --- Model Architectures & CLIP ---
# Dependencies for running BiomedCLIP and Transformer-based models.
open_clip_torch>=2.20.0
transformers>=4.30.0
huggingface-hub>=0.16.0
regex
ftfy

# --- Explainability (Class Activation Maps) ---
# Libraries for generating GradCAM, ScoreCAM, and other visual explanations.
grad-cam>=1.4.8
ttach

# --- Post-Processing: Conditional Random Fields (CRF) ---
# We install 'pydensecrf' directly from the source repository because the PyPI
# version often has build issues with newer GCC compilers found on HPC nodes.
git+https://github.com/lucasb-eyer/pydensecrf.git

# --- Data Serialization & formats ---
# Backends for handling Parquet files and Hugging Face datasets.
pyarrow>=10.0.0
fastparquet>=2023.0.0
datasets>=2.14.0

# --- Experiment Tracking ---
wandb>=0.16.0